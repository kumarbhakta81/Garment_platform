{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:5002/api/products';\nconst ADMIN_API_URL = 'http://localhost:5002/api/admin/products';\nconst getAuthHeader = () => {\n  const token = localStorage.getItem('token');\n  return token ? {\n    Authorization: `Bearer ${token}`\n  } : {};\n};\n\n// Public product endpoints (no auth required)\nexport const getProducts = async (filters = {}) => {\n  const params = new URLSearchParams();\n  Object.keys(filters).forEach(key => {\n    if (filters[key]) params.append(key, filters[key]);\n  });\n  const res = await axios.get(`${API_URL}?${params.toString()}`);\n  return res.data;\n};\nexport const getProductById = async id => {\n  const res = await axios.get(`${API_URL}/${id}`);\n  return res.data;\n};\nexport const getProductVariants = async id => {\n  const res = await axios.get(`${API_URL}/${id}/variants`);\n  return res.data;\n};\nexport const searchProducts = async (query, filters = {}) => {\n  const params = new URLSearchParams({\n    q: query\n  });\n  Object.keys(filters).forEach(key => {\n    if (filters[key]) params.append(key, filters[key]);\n  });\n  const res = await axios.get(`${API_URL}/search?${params.toString()}`);\n  return res.data;\n};\nexport const getCategories = async () => {\n  const res = await axios.get(`${API_URL}/categories`);\n  return res.data;\n};\nexport const getBrands = async () => {\n  const res = await axios.get(`${API_URL}/brands`);\n  return res.data;\n};\n\n// Admin endpoints (auth required)\nexport const addProduct = async product => {\n  const res = await axios.post(ADMIN_API_URL, product, {\n    headers: getAuthHeader()\n  });\n  return res.data;\n};\nexport const updateProduct = async (id, product) => {\n  const res = await axios.put(`${ADMIN_API_URL}/${id}`, product, {\n    headers: getAuthHeader()\n  });\n  return res.data;\n};\nexport const deleteProduct = async id => {\n  const res = await axios.delete(`${ADMIN_API_URL}/${id}`, {\n    headers: getAuthHeader()\n  });\n  return res.data;\n};","map":{"version":3,"names":["axios","API_URL","ADMIN_API_URL","getAuthHeader","token","localStorage","getItem","Authorization","getProducts","filters","params","URLSearchParams","Object","keys","forEach","key","append","res","get","toString","data","getProductById","id","getProductVariants","searchProducts","query","q","getCategories","getBrands","addProduct","product","post","headers","updateProduct","put","deleteProduct","delete"],"sources":["/home/runner/work/Garment_platform/Garment_platform/client/src/api/productApi.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:5002/api/products';\nconst ADMIN_API_URL = 'http://localhost:5002/api/admin/products';\n\nconst getAuthHeader = () => {\n  const token = localStorage.getItem('token');\n  return token ? { Authorization: `Bearer ${token}` } : {};\n};\n\n// Public product endpoints (no auth required)\nexport const getProducts = async (filters = {}) => {\n  const params = new URLSearchParams();\n  Object.keys(filters).forEach(key => {\n    if (filters[key]) params.append(key, filters[key]);\n  });\n  \n  const res = await axios.get(`${API_URL}?${params.toString()}`);\n  return res.data;\n};\n\nexport const getProductById = async (id) => {\n  const res = await axios.get(`${API_URL}/${id}`);\n  return res.data;\n};\n\nexport const getProductVariants = async (id) => {\n  const res = await axios.get(`${API_URL}/${id}/variants`);\n  return res.data;\n};\n\nexport const searchProducts = async (query, filters = {}) => {\n  const params = new URLSearchParams({ q: query });\n  Object.keys(filters).forEach(key => {\n    if (filters[key]) params.append(key, filters[key]);\n  });\n  \n  const res = await axios.get(`${API_URL}/search?${params.toString()}`);\n  return res.data;\n};\n\nexport const getCategories = async () => {\n  const res = await axios.get(`${API_URL}/categories`);\n  return res.data;\n};\n\nexport const getBrands = async () => {\n  const res = await axios.get(`${API_URL}/brands`);\n  return res.data;\n};\n\n// Admin endpoints (auth required)\nexport const addProduct = async (product) => {\n  const res = await axios.post(ADMIN_API_URL, product, { headers: getAuthHeader() });\n  return res.data;\n};\n\nexport const updateProduct = async (id, product) => {\n  const res = await axios.put(`${ADMIN_API_URL}/${id}`, product, { headers: getAuthHeader() });\n  return res.data;\n};\n\nexport const deleteProduct = async (id) => {\n  const res = await axios.delete(`${ADMIN_API_URL}/${id}`, { headers: getAuthHeader() });\n  return res.data;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}