{"ast":null,"code":"import _objectSpread from\"/home/runner/work/Garment_platform/Garment_platform/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{login}from'../api/authApi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{onLogin,goToSignup}=_ref;const[form,setForm]=useState({email:'',password:''});const[message,setMessage]=useState('');const[loading,setLoading]=useState(false);const handleChange=e=>{setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setMessage('');try{const res=await login(form);localStorage.setItem('token',res.data.token);setMessage('Login successful!');setForm({email:'',password:''});setLoading(false);if(onLogin)onLogin();}catch(err){var _err$response,_err$response$data;setMessage(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Login failed');setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:400,margin:'2rem auto',padding:24,border:'1px solid #ddd',borderRadius:8},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"email\",value:form.email,onChange:handleChange,placeholder:\"Email\",required:true,type:\"email\",style:{width:'100%',marginBottom:8}}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",value:form.password,onChange:handleChange,placeholder:\"Password\",required:true,type:\"password\",style:{width:'100%',marginBottom:8}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{width:'100%'},disabled:loading,children:loading?'Logging in...':'Login'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Don't have an account? \"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:goToSignup,style:{background:'none',color:'#007bff',border:'none',cursor:'pointer',textDecoration:'underline'},children:\"Sign Up\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{style:{color:message.includes('success')?'green':'red'},children:message})]});};export default Login;","map":{"version":3,"names":["React","useState","login","jsx","_jsx","jsxs","_jsxs","Login","_ref","onLogin","goToSignup","form","setForm","email","password","message","setMessage","loading","setLoading","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","res","localStorage","setItem","data","token","err","_err$response","_err$response$data","response","style","maxWidth","margin","padding","border","borderRadius","children","onSubmit","onChange","placeholder","required","type","width","marginBottom","disabled","marginTop","onClick","background","color","cursor","textDecoration","includes"],"sources":["/home/runner/work/Garment_platform/Garment_platform/client/admin/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { login } from '../api/authApi';\n\nconst Login = ({ onLogin, goToSignup }) => {\n  const [form, setForm] = useState({ email: '', password: '' });\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = e => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n    try {\n      const res = await login(form);\n      localStorage.setItem('token', res.data.token);\n      setMessage('Login successful!');\n      setForm({ email: '', password: '' });\n      setLoading(false);\n      if (onLogin) onLogin();\n    } catch (err) {\n      setMessage(err.response?.data?.message || 'Login failed');\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ maxWidth: 400, margin: '2rem auto', padding: 24, border: '1px solid #ddd', borderRadius: 8 }}>\n      <h2>Login</h2>\n      <form onSubmit={handleSubmit}>\n        <input name=\"email\" value={form.email} onChange={handleChange} placeholder=\"Email\" required type=\"email\" style={{ width: '100%', marginBottom: 8 }} />\n        <input name=\"password\" value={form.password} onChange={handleChange} placeholder=\"Password\" required type=\"password\" style={{ width: '100%', marginBottom: 8 }} />\n        <button type=\"submit\" style={{ width: '100%' }} disabled={loading}>{loading ? 'Logging in...' : 'Login'}</button>\n      </form>\n      <div style={{marginTop:12}}>\n        <span>Don't have an account? </span>\n        <button type=\"button\" onClick={goToSignup} style={{background:'none',color:'#007bff',border:'none',cursor:'pointer',textDecoration:'underline'}}>Sign Up</button>\n      </div>\n      {message && <p style={{color: message.includes('success') ? 'green' : 'red'}}>{message}</p>}\n    </div>\n  );\n};\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}