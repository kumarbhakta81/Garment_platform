{"ast":null,"code":"import _objectSpread from\"/home/runner/work/Garment_platform/Garment_platform/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{getUsers,deleteUser,updateUser}from'../api/userApi';import{Modal,Button,Form}from'react-bootstrap';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserManagement=()=>{const[users,setUsers]=useState([]);const[search,setSearch]=useState('');const[selected,setSelected]=useState(null);const[showModal,setShowModal]=useState(false);const[editForm,setEditForm]=useState({username:'',email:''});const[message,setMessage]=useState('');const fetchUsers=async()=>{const data=await getUsers();setUsers(data);};useEffect(()=>{fetchUsers();},[]);const handleDelete=async id=>{await deleteUser(id);setMessage('User deleted');fetchUsers();};const handleEdit=user=>{setSelected(user);setEditForm({username:user.username,email:user.email});setShowModal(true);};const handleUpdate=async()=>{await updateUser(selected.id,editForm);setMessage('User updated');setShowModal(false);fetchUsers();};const filtered=users.filter(u=>u.username.toLowerCase().includes(search.toLowerCase())||u.email.toLowerCase().includes(search.toLowerCase()));return/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h5 mb-3\",children:\"User Management\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mb-2\",placeholder:\"Search by username or email\",value:search,onChange:e=>setSearch(e.target.value)}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success\",children:message}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filtered.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.id}),/*#__PURE__*/_jsx(\"td\",{children:user.username}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",size:\"sm\",onClick:()=>handleEdit(user),className:\"me-2\",children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",size:\"sm\",onClick:()=>handleDelete(user.id),children:\"Delete\"})]})]},user.id))})]}),/*#__PURE__*/_jsxs(Modal,{show:showModal,onHide:()=>setShowModal(false),children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Edit User\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",value:editForm.username,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{username:e.target.value}))})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:editForm.email,onChange:e=>setEditForm(_objectSpread(_objectSpread({},editForm),{},{email:e.target.value}))})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleUpdate,children:\"Save\"})]})]})]})});};export default UserManagement;","map":{"version":3,"names":["React","useEffect","useState","getUsers","deleteUser","updateUser","Modal","Button","Form","jsx","_jsx","jsxs","_jsxs","UserManagement","users","setUsers","search","setSearch","selected","setSelected","showModal","setShowModal","editForm","setEditForm","username","email","message","setMessage","fetchUsers","data","handleDelete","id","handleEdit","user","handleUpdate","filtered","filter","u","toLowerCase","includes","className","children","placeholder","value","onChange","e","target","map","variant","size","onClick","show","onHide","Header","closeButton","Title","Body","Group","Label","Control","type","_objectSpread","Footer"],"sources":["/home/runner/work/Garment_platform/Garment_platform/client/admin/src/pages/UserManagement.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { getUsers, deleteUser, updateUser } from '../api/userApi';\nimport { Modal, Button, Form } from 'react-bootstrap';\n\nconst UserManagement = () => {\n  const [users, setUsers] = useState([]);\n  const [search, setSearch] = useState('');\n  const [selected, setSelected] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [editForm, setEditForm] = useState({ username: '', email: '' });\n  const [message, setMessage] = useState('');\n\n  const fetchUsers = async () => {\n    const data = await getUsers();\n    setUsers(data);\n  };\n  useEffect(() => { fetchUsers(); }, []);\n\n  const handleDelete = async (id) => {\n    await deleteUser(id);\n    setMessage('User deleted');\n    fetchUsers();\n  };\n\n  const handleEdit = (user) => {\n    setSelected(user);\n    setEditForm({ username: user.username, email: user.email });\n    setShowModal(true);\n  };\n\n  const handleUpdate = async () => {\n    await updateUser(selected.id, editForm);\n    setMessage('User updated');\n    setShowModal(false);\n    fetchUsers();\n  };\n\n  const filtered = users.filter(u =>\n    u.username.toLowerCase().includes(search.toLowerCase()) ||\n    u.email.toLowerCase().includes(search.toLowerCase())\n  );\n\n  return (\n    <div className=\"card shadow-sm mb-4\">\n      <div className=\"card-body\">\n        <h2 className=\"h5 mb-3\">User Management</h2>\n        <input\n          className=\"form-control mb-2\"\n          placeholder=\"Search by username or email\"\n          value={search}\n          onChange={e => setSearch(e.target.value)}\n        />\n        {message && <div className=\"alert alert-success\">{message}</div>}\n        <table className=\"table table-bordered table-hover\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Username</th>\n              <th>Email</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filtered.map(user => (\n              <tr key={user.id}>\n                <td>{user.id}</td>\n                <td>{user.username}</td>\n                <td>{user.email}</td>\n                <td>\n                  <Button variant=\"primary\" size=\"sm\" onClick={() => handleEdit(user)} className=\"me-2\">Edit</Button>\n                  <Button variant=\"danger\" size=\"sm\" onClick={() => handleDelete(user.id)}>Delete</Button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n        <Modal show={showModal} onHide={() => setShowModal(false)}>\n          <Modal.Header closeButton>\n            <Modal.Title>Edit User</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Username</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  value={editForm.username}\n                  onChange={e => setEditForm({ ...editForm, username: e.target.value })}\n                />\n              </Form.Group>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Email</Form.Label>\n                <Form.Control\n                  type=\"email\"\n                  value={editForm.email}\n                  onChange={e => setEditForm({ ...editForm, email: e.target.value })}\n                />\n              </Form.Group>\n            </Form>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={() => setShowModal(false)}>Cancel</Button>\n            <Button variant=\"primary\" onClick={handleUpdate}>Save</Button>\n          </Modal.Footer>\n        </Modal>\n      </div>\n    </div>\n  );\n};\nexport default UserManagement;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}